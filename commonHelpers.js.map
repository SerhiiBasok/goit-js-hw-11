{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// бібліотека\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const form = document.querySelector('.form');\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n\n  form.addEventListener('submit', onCreateFormSubmit);\n\n  function onCreateFormSubmit(event) {\n    event.preventDefault();\n    const nameImage = event.target.elements.query.value;\n\n    if (nameImage.trim() === '') {\n      return iziToast.error({\n        message: 'Введіть вірне значення!',\n        position: 'topRight',\n      });\n    }\n\n    loader.style.display = 'inline-block';\n\n    giveImages(nameImage);\n    event.target.reset();\n  }\n\n  function giveImages(nameImage) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '?key=42272316-28c697ce0580eb37211383c7d';\n    const Q = `&q=${nameImage}`;\n    const IMAGE_TYPE = '&image_type=photo';\n    const ORIENTATION = '&orientation=horizontal';\n    const SAFESEARCH = '&safesearch=true';\n    const url = BASE_URL + KEY + Q + IMAGE_TYPE + ORIENTATION + SAFESEARCH;\n\n    return fetch(url)\n      .then(res => {\n        if (!res.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return res.json();\n      })\n      .then(data => {\n        if (data && data.hits && data.hits.length > 0) {\n          renderTicker(data);\n        } else {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        }\n      })\n      .catch(error => {\n        console.error('Error:', error);\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  }\n\n  function renderTicker(data) {\n    const markup = data.hits.map(templateImage).join('');\n    gallery.innerHTML = markup;\n\n    const galleryLinks = document.querySelectorAll('.gallery-link');\n    galleryLinks.forEach(link => {\n      link.setAttribute('href', link.querySelector('img').getAttribute('src'));\n    });\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n\n    lightbox.refresh();\n  }\n\n  function templateImage({\n    largeImageURL,\n    webformatURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  }) {\n    return `<li class=\"gallery-item\" >\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n      <div class=\"item-text\">\n        <ul>Likes<li>${likes}</li></ul>\n        <ul>Views<li>${views}</li></ul>\n        <ul>Comments<li>${comments}</li></ul>\n        <ul>Downloads<li>${downloads}</li></ul>\n      </div>\n    </li>`;\n  }\n});\n"],"names":["form","gallery","loader","onCreateFormSubmit","event","nameImage","iziToast","giveImages","BASE_URL","KEY","Q","IMAGE_TYPE","ORIENTATION","SAFESEARCH","url","res","data","renderTicker","error","markup","templateImage","link","SimpleLightbox","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAkB,EAElD,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,MAAM,MAE9C,GAAIC,EAAU,KAAM,IAAK,GACvB,OAAOC,EAAS,MAAM,CACpB,QAAS,0BACT,SAAU,UAClB,CAAO,EAGHJ,EAAO,MAAM,QAAU,eAEvBK,EAAWF,CAAS,EACpBD,EAAM,OAAO,OACd,CAED,SAASG,EAAWF,EAAW,CAC7B,MAAMG,EAAW,2BACXC,EAAM,0CACNC,EAAI,MAAML,CAAS,GACnBM,EAAa,oBACbC,EAAc,0BACdC,EAAa,mBACbC,EAAMN,EAAWC,EAAMC,EAAIC,EAAaC,EAAcC,EAE5D,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAI,MACnB,CAAO,EACA,KAAKC,GAAQ,CACRA,GAAQA,EAAK,MAAQA,EAAK,KAAK,OAAS,EAC1CC,EAAaD,CAAI,EAEjBV,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACtB,CAAW,CAEX,CAAO,EACA,MAAMY,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACrC,CAAO,EACA,QAAQ,IAAM,CACbhB,EAAO,MAAM,QAAU,MAC/B,CAAO,CACJ,CAED,SAASe,EAAaD,EAAM,CAC1B,MAAMG,EAASH,EAAK,KAAK,IAAII,CAAa,EAAE,KAAK,EAAE,EACnDnB,EAAQ,UAAYkB,EAEC,SAAS,iBAAiB,eAAe,EACjD,QAAQE,GAAQ,CAC3BA,EAAK,aAAa,OAAQA,EAAK,cAAc,KAAK,EAAE,aAAa,KAAK,CAAC,CAC7E,CAAK,EAEgB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACpB,CAAK,EAEQ,QAAO,CACjB,CAED,SAASF,EAAc,CACrB,cAAAG,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,EAAK,CACD,MAAO;AAAA,sCAC2BN,CAAa;AAAA;AAAA;AAAA,iBAGlCC,CAAY;AAAA,iBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,uBAIEC,CAAK;AAAA,uBACLC,CAAK;AAAA,0BACFC,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA,UAGjC,CACH,CAAC"}